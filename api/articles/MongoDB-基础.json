{"title":"MongoDB 基础","uid":"6e78dc0762814718dbee5999dd72dda3","slug":"MongoDB-基础","date":"2021-11-26T02:58:53.000Z","updated":"2021-12-18T11:17:57.378Z","comments":true,"path":"api/articles/MongoDB-基础.json","keywords":null,"cover":"https://images.unsplash.com/photo-1571361656693-d7602246ce3c?crop=entropy&cs=tinysrgb&fit=crop&fm=jpg&h=628&ixid=MnwxfDB8MXxhbGx8fHx8fHx8fHwxNjE5ODc0NTE5&ixlib=rb-1.2.1&q=80&utm_campaign=api-credit&utm_medium=referral&utm_source=unsplash_source&w=1200","content":"<h2 id=\"MongoDB类比Mysql\"><a href=\"#MongoDB类比Mysql\" class=\"headerlink\" title=\"MongoDB类比Mysql\"></a>MongoDB类比Mysql</h2><blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>MongoDB是非关系型数据库当中最像关系型数据库的，所以我们通过它与关系型数据库的对比，来了解下它的概念。</p></blockquote>\n<h2 id=\"数据库操作\"><a href=\"#数据库操作\" class=\"headerlink\" title=\"数据库操作\"></a>数据库操作</h2><h3 id=\"创建数据库\"><a href=\"#创建数据库\" class=\"headerlink\" title=\"创建数据库\"></a>创建数据库</h3><p>使用 use 命令去创建数据库，当插入第一条数据时会创建数据库。例如创建一个 test 数据库</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">&gt; use test\nswitched to db test\n&gt; db.article.insert(&#123;&quot;name&quot;:&quot;MongoDB 教程&quot;&#125;)\nWriteResult(&#123; &quot;nInserted&quot; : 1 &#125;)\n&gt; show dbs\nadmin   0.000GB\nconfig  0.000GB\nlocal   0.000GB\ntest    0.000GB<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h3 id=\"删除数据库\"><a href=\"#删除数据库\" class=\"headerlink\" title=\"删除数据库\"></a>删除数据库</h3><p>删除数据库，使用db对象中的dropDatabase()方法来删除</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">&gt; db.dropDatabase()\n&#123; &quot;dropped&quot; : &quot;test&quot;, &quot;ok&quot; : 1 &#125;\n&gt; show dbs\nadmin   0.000GB\nconfig  0.000GB\nlocal   0.000GB<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h2 id=\"集合操作\"><a href=\"#集合操作\" class=\"headerlink\" title=\"集合操作\"></a>集合操作</h2><h3 id=\"创建集合\"><a href=\"#创建集合\" class=\"headerlink\" title=\"创建集合\"></a>创建集合</h3><p>使用db对象中的createCollection()方法来创建集合，例如创建一个article集合</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">&gt; use test\nswitched to db test\n&gt; db.createCollection(&quot;article&quot;)\n&#123; &quot;ok&quot; : 1 &#125;\n&gt; show collections\narticle<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h3 id=\"删除集合\"><a href=\"#删除集合\" class=\"headerlink\" title=\"删除集合\"></a>删除集合</h3><p>使用collection对象的drop()方法来删除集合，例如删除一个article集合</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">&gt; db.article.drop()\ntrue\n&gt; show collections<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<h2 id=\"文档操作\"><a href=\"#文档操作\" class=\"headerlink\" title=\"文档操作\"></a>文档操作</h2><h3 id=\"插入文档\"><a href=\"#插入文档\" class=\"headerlink\" title=\"插入文档\"></a>插入文档</h3><p>MongoDB通过collection对象的insert()方法向集合中插入文档，语法如下</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">db.collection.insert(document)<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>使用collection对象的insert()方法来插入文档，例如插入一个article文档,例如:</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">db.article.insert(&#123;title: &#39;MongoDB 教程&#39;, \n    description: &#39;MongoDB 是一个 Nosql 数据库&#39;,\n    by: &#39;Andy&#39;,\n    url: &#39;https:&#x2F;&#x2F;www.mongodb.com&#x2F;&#39;,\n    tags: [&#39;mongodb&#39;, &#39;database&#39;, &#39;NoSQL&#39;],\n    likes: 100\n&#125;)<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h3 id=\"插入文档-1\"><a href=\"#插入文档-1\" class=\"headerlink\" title=\"插入文档\"></a>插入文档</h3><p>使用collection对象的find()方法可以获取文档，例如获取所有的article文档</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">&gt; db.article.find(&#123;&#125;)<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>结果如下</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">&#123;\n    &quot;_id&quot; : ObjectId(&quot;5e9943661379a112845e4056&quot;),\n    &quot;title&quot; : &quot;MongoDB 教程&quot;,\n    &quot;description&quot; : &quot;MongoDB 是一个 Nosql 数据库&quot;,\n    &quot;by&quot; : &quot;Andy&quot;,\n    &quot;url&quot; : &quot;https:&#x2F;&#x2F;www.mongodb.com&#x2F;&quot;,\n    &quot;tags&quot; : [ \n        &quot;mongodb&quot;, \n        &quot;database&quot;, \n        &quot;NoSQL&quot;\n    ],\n    &quot;likes&quot; : 100.0\n&#125;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h3 id=\"更新文档\"><a href=\"#更新文档\" class=\"headerlink\" title=\"更新文档\"></a>更新文档</h3><h3 id=\"删除文档\"><a href=\"#删除文档\" class=\"headerlink\" title=\"删除文档\"></a>删除文档</h3><h3 id=\"查询文档\"><a href=\"#查询文档\" class=\"headerlink\" title=\"查询文档\"></a>查询文档</h3><h2 id=\"其他操作\"><a href=\"#其他操作\" class=\"headerlink\" title=\"其他操作\"></a>其他操作</h2><h3 id=\"limit-和-skip-操作\"><a href=\"#limit-和-skip-操作\" class=\"headerlink\" title=\"limit 和 skip 操作\"></a>limit 和 skip 操作</h3><h3 id=\"排序\"><a href=\"#排序\" class=\"headerlink\" title=\"排序\"></a>排序</h3><h3 id=\"索引\"><a href=\"#索引\" class=\"headerlink\" title=\"索引\"></a>索引</h3><h3 id=\"聚合\"><a href=\"#聚合\" class=\"headerlink\" title=\"聚合\"></a>聚合</h3><h3 id=\"正则表达式\"><a href=\"#正则表达式\" class=\"headerlink\" title=\"正则表达式\"></a>正则表达式</h3>","feature":true,"text":"MongoDB类比Mysql MongoDB是非关系型数据库当中最像关系型数据库的，所以我们通过它与关系型数据库的对比，来了解下它的概念。 数据库操作创建数据库使用 use 命令去创建数据库，当插入第一条数据时会创建数据库。例如创建一个 test 数据库 &gt; use tes...","link":"","photos":[],"count_time":{"symbolsCount":"1.9k","symbolsTime":"2 mins."},"categories":[{"name":"MongoDB","slug":"MongoDB","count":1,"path":"api/categories/MongoDB.json"}],"tags":[{"name":"数据库","slug":"数据库","count":1,"path":"api/tags/数据库.json"},{"name":"MongoDB","slug":"MongoDB","count":1,"path":"api/tags/MongoDB.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#MongoDB%E7%B1%BB%E6%AF%94Mysql\"><span class=\"toc-text\">MongoDB类比Mysql</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E6%95%B0%E6%8D%AE%E5%BA%93%E6%93%8D%E4%BD%9C\"><span class=\"toc-text\">数据库操作</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%88%9B%E5%BB%BA%E6%95%B0%E6%8D%AE%E5%BA%93\"><span class=\"toc-text\">创建数据库</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%88%A0%E9%99%A4%E6%95%B0%E6%8D%AE%E5%BA%93\"><span class=\"toc-text\">删除数据库</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E9%9B%86%E5%90%88%E6%93%8D%E4%BD%9C\"><span class=\"toc-text\">集合操作</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%88%9B%E5%BB%BA%E9%9B%86%E5%90%88\"><span class=\"toc-text\">创建集合</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%88%A0%E9%99%A4%E9%9B%86%E5%90%88\"><span class=\"toc-text\">删除集合</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E6%96%87%E6%A1%A3%E6%93%8D%E4%BD%9C\"><span class=\"toc-text\">文档操作</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%8F%92%E5%85%A5%E6%96%87%E6%A1%A3\"><span class=\"toc-text\">插入文档</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%8F%92%E5%85%A5%E6%96%87%E6%A1%A3-1\"><span class=\"toc-text\">插入文档</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%9B%B4%E6%96%B0%E6%96%87%E6%A1%A3\"><span class=\"toc-text\">更新文档</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%88%A0%E9%99%A4%E6%96%87%E6%A1%A3\"><span class=\"toc-text\">删除文档</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%9F%A5%E8%AF%A2%E6%96%87%E6%A1%A3\"><span class=\"toc-text\">查询文档</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%85%B6%E4%BB%96%E6%93%8D%E4%BD%9C\"><span class=\"toc-text\">其他操作</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#limit-%E5%92%8C-skip-%E6%93%8D%E4%BD%9C\"><span class=\"toc-text\">limit 和 skip 操作</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%8E%92%E5%BA%8F\"><span class=\"toc-text\">排序</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E7%B4%A2%E5%BC%95\"><span class=\"toc-text\">索引</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E8%81%9A%E5%90%88\"><span class=\"toc-text\">聚合</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F\"><span class=\"toc-text\">正则表达式</span></a></li></ol></li></ol>","author":{"name":"Superl","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"PHP中的phpize","uid":"c0ab05795eceadff151c5fb0906fc98c","slug":"PHP中的phpize","date":"2021-12-07T06:14:40.000Z","updated":"2021-12-18T11:17:57.379Z","comments":true,"path":"api/articles/PHP中的phpize.json","keywords":null,"cover":"http://img.gosql.cn/hexo/%E5%9B%BE%E8%99%AB%E5%88%9B%E6%84%8F-%E6%A0%B7%E5%9B%BE-902531800429887611.jpeg","text":"什么是phpizephpize是一个运行脚本，主要作用是检测php的环境还有就是在特定的目录生成相应的configure文件,这样makeinstall之后，生成的.so文件才会自动加载到php扩展目录下面。 为什么使用phpize在使用php的过程中，我们常常需要去添加一些PH...","link":"","photos":[],"count_time":{"symbolsCount":590,"symbolsTime":"1 mins."},"categories":[{"name":"PHP","slug":"PHP","count":1,"path":"api/categories/PHP.json"}],"tags":[{"name":"PHP","slug":"PHP","count":1,"path":"api/tags/PHP.json"},{"name":"PHP拓展","slug":"PHP拓展","count":1,"path":"api/tags/PHP拓展.json"}],"author":{"name":"Superl","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"feature":true},"next_post":{"title":"VUE 学习笔记","uid":"52e6201046d1395d4d9ffbd6d8b9abdf","slug":"VUE-学习笔记","date":"2021-12-10T11:24:30.000Z","updated":"2021-12-18T11:17:57.380Z","comments":true,"path":"api/articles/VUE-学习笔记.json","keywords":null,"cover":null,"text":"VUE学习之新的开始数据与方法 当一个 Vue 实例被创建时，它将 data 对象中的所有的 property 加入到 Vue 的响应式系统中。当这些 property 的值发生改变时，视图将会产生“响应”，即匹配更新为新的值。 var vm = new Vue(&#123; d...","link":"","photos":[],"count_time":{"symbolsCount":"1.3k","symbolsTime":"1 mins."},"categories":[],"tags":[{"name":"前端","slug":"前端","count":1,"path":"api/tags/前端.json"},{"name":"VUE","slug":"VUE","count":1,"path":"api/tags/VUE.json"}],"author":{"name":"Superl","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}}}